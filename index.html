<!DOCTYPE html>
<html>
    <head>
        <title>HW2</title>
        <script src="https://d3js.org/d3.v7.min.js"></script>
    </head>
    <body>
        <div id="svg-container" style="display:block; width: 500px; margin: auto;">
            <svg width="470px" height="500px" style="transform: rotate(270deg);">
                <g fill="none">
                    <!--  court outline & background -->
                    <image id="wood-floor" x="2" y="0" width="500" xlink:href="images/wood-floor-pattern.jpeg" style="opacity: 0.7; transform: rotate(90deg) translate(0, -100%);"></image>
                    <!-- image from iStock by Getty Images (https://www.istockphoto.com/photos/light-wood-floor-texture) -->
                    <rect width="100%" height="100%" fill="none" stroke="#116cb6" stroke-width="2" />
                
                    <!-- half court logo and circle -->
                    <image href="images/knicks-logo.svg" x="73.25%" y="19%" height="250" width="250"/>
                    <!-- image from Wikipedia (https://en.wikipedia.org/wiki/New_York_Knicks) -->

                    <circle cx="100%" cy="50%" r="12%" fill="none" stroke="#fff" stroke-width="1.5" />
                
                    <!-- 3-point arc -->
                    <line x1="0%" y1="6%" x2="29.79%" y2="6%" stroke="#116cb6" stroke-width="1.3" />
                    <line x1="0%" y1="94%" x2="29.79%" y2="94%" stroke="#116cb6" stroke-width="1.3" />  
                    <path d="M 138.97 470.2 A 237.5 237.5 0 0 0 138.97 29.79" fill="none" stroke="#116cb6" stroke-width="1.4" />
                
                    <!-- shaded area -->
                    <rect y="170" width="190" height="160" fill="#116cb6" stroke="#fff" stroke-width="1" />
                
                    <!-- board and rim -->
                    <line x1="40" y1="220" x2="40" y2="280" stroke="#b37336" stroke-width="1" />
                    <circle cx="55" cy="250" r="15" fill="none" stroke="#b37336" stroke-width="1" />    
                
                    <!-- free throw circle -->
                    <path d="M 190 190 A 60 60 0 0 0 190 310" fill="none" stroke="#fff" stroke-width="1" stroke-dasharray="10,10" />
                    <path d="M 190 310 A 60 60 0 0 0 190 190" fill="none" stroke="#116cb6" stroke-width="1.5" />
                
                    <!-- shaded area -->
                    <rect x="750" y="170" width="190" height="160" fill="#116cb6" stroke="#fff" stroke-width="1" />
                
                    <!-- restricted area -->
                    <path d="M 55 290 A 40 40 0 0 0 55 210" fill="none" stroke="#fff" stroke-width="1" />
                </g>
            </svg>
    </div>

        <script>
            const load = async function() {
                let data = await d3.csv("nba_shotchartdetail_2018-19.csv");
                data = data.filter((d) => { return (d["TEAM_NAME"]==="New York Knicks")});

                data.forEach(d => {
                    // console.log(d["GAME_DATE"].slice(4,6) + "-" + d["GAME_DATE"].slice(6,8) + "-" + d["GAME_DATE"].slice(0,4))
                    d["GAME_DATE"] = d["GAME_DATE"].slice(4,6) + "-" + d["GAME_DATE"].slice(6,8) + "-" + d["GAME_DATE"].slice(0,4);
                });

                console.log(data);
            }
            load();

        </script>
    </body>
</html>
